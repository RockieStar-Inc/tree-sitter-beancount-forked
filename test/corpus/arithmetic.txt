=========
expr add
=========

2013-05-18 * "Test"
    Assets:Something    12 + 3 USD
    Assets:Something   7.5 + 3.1 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (plus) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (plus) (number))
                    (currency)
                )
            )
        )
    )
)

==========
expr sub
=========

2013-05-18 * "Test"
    Assets:Something    12 - 3 USD
    Assets:Something   7.5 - 3.1 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (minus) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (minus) (number))
                    (currency)
                )
            )
        )
    )
)

==========
expr mult
==========

2013-05-18 * "Test"
    Assets:Something    12 * 3 USD
    Assets:Something   7.5 * 3.1 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (asterick) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (asterick) (number))
                    (currency)
                )
            )
        )
    )
)

=========
expr div
========

2013-05-18 * "Test"
    Assets:Something    12 / 3 USD
    Assets:Something   7.5 / 3 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (slash) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (slash) (number))
                    (currency)
                )
            )
        )
    )
)

=========
expr neg
========

2013-05-18 * "Test"
    Assets:Something    -12 USD
    Assets:Something   -7.5 USD
    Assets:Something   - 7.5 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (unary_number_expr (minus) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (unary_number_expr (minus) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (unary_number_expr (minus) (number))
                    (currency)
                )
            )
        )
    )
)

=========
expr pos
========

2013-05-18 * "Test"
    Assets:Something    +12 USD
    Assets:Something   -7.5 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (unary_number_expr (plus) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (unary_number_expr (minus) (number))
                    (currency)
                )
            )
        )
    )
)

==============
expr predence
=============

2013-05-18 * "Test"
    Assets:Something   2 * 3 + 4 USD
    Assets:Something   2 + 3 * 4 USD
    Assets:Something   2 + -3 * 4 USD
    Assets:Something   (2 + -3) * 4 USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr
                        (binary_number_expr (number) (asterick) (number))
                        (plus)
                        (number)
                    )
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr
                        (binary_number_expr (number) (plus) (number))
                        (asterick)
                        (number)
                    )
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr
                        (binary_number_expr (number) (plus) (minus) (number))
                        (asterick)
                        (number)
                    )
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr
                        (binary_number_expr (number) (plus) (minus) (number))
                        (asterick)
                        (number)
                    )
                    (currency)
                )
            )
        )
    )
)

============
expr groups
============

2013-05-18 * "Test"
    Assets:Something   (2 + -3) * 4 USD
    Assets:Something   2 * (2 + -3) USD

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr
                        (binary_number_expr (number) (plus) (minus) (number))
                        (asterick)
                        (number)
                    )
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr
                        (number)
                        (asterick)
                        (binary_number_expr (number) (plus) (minus) (number))
                    )
                    (currency)
                )
            )
        )
    )
)

======================
expr different places
======================

2013-05-18 * "Test"
    Assets:Something   -(3 * 4) HOOL {120.01 * 2.1 USD} @ 134.02 * 2.1 USD
    Assets:Something   1000000 USD ;; No balance checks.
    2014-01-01 balance Assets:Something  3 * 4 * 120.01 * 2.1  USD
    number: -(5662.23 + 22.3)

---

(file
    (transaction
        (date)
        (flag)
        (txn_strings (string))
        (postings
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (number))
                    (currency)
                )
            )
            (posting
                (account)
                (incomplete_amount
                    (binary_number_expr (number) (number))
                    (currency)
                )
            )
        )
    )
)
